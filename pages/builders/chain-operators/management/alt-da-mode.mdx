---
title: How to Run an Alt-DA Mode Chain
lang: en-US
description: Learn how to run an Alt-DA mode chain.
---

import { Callout, Steps } from 'nextra/components'

# How to Run an Alt-DA Mode Chain

<Callout type="warning">
The Alt-DA Mode feature is a Beta feature of the MIT licensed OP Stack. Features in beta are built and reviewed by the Optimism Collective’s core contributors, and provide developers with early access to highly requested configurations. These features may experience stability issues, and we encourage feedback from our early users.
</Callout>

This guide provides a walkthrough for chain operators who want to run an Alt-DA Mode chain. See the [Alt-DA Mode Explainer](/stack/protocol/features/alt-de-mode) for a general overview of this OP Stack configuration.
An Alt-DA Mode OP Stack chain enables a chain operator to post and read data to any alternative data availability layer that has built a functioning OP Stack DA Server.

<Steps>

### Compatible op-node & op-* Versions

You should use at least the following versions when running your chain.

- op-node/v1.8.0-rc.1
- op-proposer/v1.8.0-rc.1
- op-batcher/v1.8.0-rc.1
- [Latest version of op-geth](https://github.com/ethereum-optimism/op-geth/releases/latest)

For deploying your contracts, use the latest release - if you are trying to launch an Alt-DA Mode Chain using a custom gas token, follow the contract deployment instructions in our [Custom Gas Token docs](/builders/chain-operators/management/custom-gas-token.mdx)

### Step 1: Set up your DA Server

<Callout type="warning">
DA Servers are not built or maintained by Optimism Collective Core Contributors. They are often maintained by the team that built the DA Layer that the DA Server enables access to. Please reach out to the team who built the DA Server you are trying to run with any questions or issues.
</Callout>

- Celestia’s docs on how to run the Celestia DA server:
    - https://github.com/celestiaorg/op-plasma-celestia/blob/main/README.md
- EigenDA’s docs on how to run the EigenDA DA server:
    - https://github.com/Layr-Labs/op-plasma-eigenda/blob/main/README.md
- Avail’s docs on how to run the AvailDA DA Server:
    - https://docs.availproject.org/docs/build-with-avail/Optimium/op-stack/op-stack#setup-avail-da-server

### Step 2: Configuring your op-node

Spin up your OP chain as usual but set the `--altda.enabled=true` and point both `op-batcher` and `op-node` to the DA server. No configuration changes are required for `op-geth` or `op-proposer`.

```go
   Alt-DA (EXPERIMENTAL)

   
    --altda.da-server value                                               ($OP_NODE_ALTDA_DA_SERVER)
          HTTP address of a DA Server
   
    --altda.enabled                    (default: false)                   ($OP_NODE_ALTDA_ENABLED)
          Enable Alt-DA mode
   
    --altda.verify-on-read             (default: true)                    ($OP_NODE_ALTDA_VERIFY_ON_READ)
          Verify input data matches the commitments from the DA storage service

```

### Step 3: Configuring your Batcher

```
    --altda.da-server value                                               ($OP_BATCHER_ALTDA_DA_SERVER)
          HTTP address of a DA Server
   
    --altda.da-service                 (default: false)                   ($OP_BATCHER_ALTDA_DA_SERVICE)
          Use DA service type where commitments are generated by the DA server
   
    --altda.enabled                    (default: false)                   ($OP_BATCHER_ALTDA_ENABLED)
          Enable Alt-DA mode
   
    --altda.verify-on-read             (default: true)                    ($OP_BATCHER_ALTDA_VERIFY_ON_READ)
          Verify input data matches the commitments from the DA storage service
```

- Provide `--altda.enabled=true, --atlda.da-server=$DA_SERVER_HTTP_URL --altda.da-service=true`

After completing steps 1-3 above, you will have an Alt-DA mode chain up and running.

### Step 4: Setting Your Fee Configuration

- Alt-DA submits only Commitments to data to L1, which is considerably smaller than the raw Inputs, so chain operators will need to determine fee scalars values to charge users. The fee scalar values are network throughput dependent, so values will need to be adjusted by chain operators as needed.
- Set scalar values inside the deploy config. The example below shows some possible fee scalar values, assuming negligible DA Layer costs, but will need to be adjusted up or down based on network throughput.
    
    ```
    // Set in Deploy Config
      "gasPriceOracleBaseFeeScalar": 7663, // Approximate commitment tx base cost
      "gasPriceOracleBlobBaseFeeScalar": 0, // blobs are off for now
    ```
    
- Cost structure for Alt-DA Mode: The transaction data is split up into 128kb chunks and the submitted to your DA Layer. Then, 32 byte commitments are submitted (goes to batch inbox address) to L1 for each 128kb chunk. Then, figure out how much that costs relative to the amount of transactions your chain is putting through.

<aside>
NOTE: Some initial scalar values must be set early on in the deploy config in Step 2. And then at a later point, chain operators can update the scalar values with an L1 transaction.
</aside>
</Steps>

# For Node Operators (Full and Archive nodes)
- Run a DA server as laid out in Step 1
- Provide the same  `--altda.enabled=true, --altda.da-server...` on op-node as listed in Step 2

## Next Steps

*   Additional questions? See the FAQ section in the [Alt-DA Mode Explainer](/stack/protocol/features/alt-da-mode#faqs).
*   For more detailed info on Alt-DA Mode, see the [specs](https://specs.optimism.io/experimental/alt-da.html).
*   If you experience any problems, please reach out to [developer support](https://github.com/ethereum-optimism/developers/discussions).
