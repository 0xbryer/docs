---
title: OP Stack Smart Contract Deployment
lang: en-US
description: Learn how to deploy the OP Stack L1 smart contracts.
---

import { Callout } from 'nextra/components'

# OP Stack Smart Contract Deployment

The following guide shows you how to deploy the OP Stack L1 smart contracts.
The primary development branch is `develop`. It contains the most up-to-date
software that remains backwards compatible with the latest experimental
network deployments. **Changes to made to the smart contracts are usually
NOT considered backwards compatible.**

<Callout>
  Standard OP Stack chains should use governance approved and audited versions
  of the smart contract code.
</Callout>

## Deployment Configuration

Deploying your OP Stack contracts require creating a deployment configuration
JSON file. For the full set of options, you can see the [source code](https://github.com/ethereum-optimism/optimism/blob/develop/op-chain-ops/genesis/config.go)
in the monorepo or you can view the [chain configuration page](/builders/chain-operators/management/configuration).

### Standard Rollup Configuration Example

The following is an example deployment configuration file for a Standard OP 
Stack chain.

```json
todo
```

### Custom Gas Token Configuration Example

The following is an example deployment configuration file for a Custom Gas 
Token OP Stack chain.

```json
todo
```

### Alt-DA Mode (Plasma Mode) Configuration Example

The following is an example deployment configuration file for an OP Stack 
chain running in Alt-DA mode.

```json
todo
```

## [develop](https://github.com/ethereum-optimism/optimism/tree/develop)

<Callout type="warning">
  The primary development branch is `develop`. It contains the most up-to-date
  software that remains backwards compatible with the latest experimental
  network deployments. **Changes to made to the smart contracts are usually
  NOT considered backwards compatible.**
</Callout>

As of 2024-06-07, the smart contracts are deployed using `foundry`. The
`DEPLOYMENT_OUTFILE` env var will determine the filepath that the deployment
artifact is written to on disk after the deployment. It comes in the form of a
JSON file where keys are the names of the contracts and the values are the
addresses the contract was deployed to.

The `DEPLOY_CONFIG_PATH` is a filepath to a deploy config file, see the
deploy-config directory for examples and the DeployConfig definition for
descriptions of the values.

```
DEPLOYMENT_OUTFILE=deployments/artifact.json \
DEPLOY_CONFIG_PATH=<PATH_TO_MY_DEPLOY_CONFIG> \
  forge script scripts/Deploy.s.sol:Deploy \
  --broadcast --private-key $PRIVATE_KEY \
  --rpc-url $ETH_RPC_URL
```

The `IMPL_SALT` env var can be used to set the create2 salt for deploying the
implementation contracts.

This will deploy an entire new system of L1 smart contracts including a new
SuperchainConfig. In the future there will be an easy way to deploy only
proxies and use shared implementations for each of the contracts as well as a
shared SuperchainConfig contract.

### Deploying a single contract

All of the functions for deploying a single contract are public meaning that
the `--sig` argument to forge script can be used to target the deployment of a
single contract.

## [op-contracts/v1.3.0](https://github.com/ethereum-optimism/optimism/tree/op-contracts/v1.3.0)

The Multi-Chain Prep (MCP) L1 [release](https://github.com/ethereum-optimism/optimism/releases/tag/op-contracts%2Fv1.3.0),
cross-chain upgrades and mitigates potential exploitation risks during
emergency, multi-chain upgrades by transitioning chain-specific deployment
configuration variables from immutables into storage. It also extends
`SystemConfig` to contain the addresses of the network's contracts.
